<!DOCTYPE html>
<meta charset="UTF-8">
<!-- Needed for proper mobile rendering on Chrome Developer Tools -->
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Blueprint</title>
<link rel="icon" type="image/png" href="/assets/favicon.ico"/>
<link rel="stylesheet" href="style/abstracts/_variables.css">
<link rel="stylesheet" href="style/abstracts/_utilities.css">
<link rel="stylesheet" href="style/layout/_layout.css">
<link rel="stylesheet" href="style/components/_panel.css">
<link rel="stylesheet" href="style/components/_button-circle.css">
<link rel="stylesheet" href="style/components/_button-1-of-2.css">
<link rel="stylesheet" href="style/layout/_header.css">
<link rel="stylesheet" href="style/layout/_footer.css">
<link rel="stylesheet" href="style/base/_base.css">
<link rel="stylesheet" href="style/base/_typography.css">
<link rel="stylesheet" href="style/layout/_responsive.css">
<!-- Quicksand font import -->
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="utilities.js"></script>
<script src="populateData.js"></script>
<script src="task.js"></script>
<script src="auth.js"></script>
<script src="panelStyle.js" defer></script>
<script src="assignPanelStyle.js" defer></script>
<!-- TODO: Refactor JavaScript to cleanly handle the display of all data, and implement a main js file (Issue #26) -->
<script src="https://apis.google.com/js/platform.js" onload="init()" async defer></script>
<!-- Title container for page with log-in button -->
<div class="header u-align-with-first-panel">
  <div class="header__heading-with-photo">
    <h1 class="header__heading-text u-text-shadow">Blueprint</h1>
    <img src="assets/compass.png" alt="blueprint-logo" class="header__heading-logo u-box-shadow">
  </div>
  <p class="header__subheading u-text-shadow">How will you build your day?</p>
  <!-- Google-Styled button that handles authentication -->
  <div id="google-sign-in-btn"></div>
</div>
<!-- Contains features (gmail, tasks, calendar, etc). Hidden when user not authenticated -->
<div hidden class="feature-container">
  <a class="u-align-with-first-panel" href="#" onclick="signOut()">Sign out</a>
  <!-- Contains at-a-glance information about user's services -->
  <article>
    <h2 class="panel-row__header u-align-with-first-panel u-text-shadow">Services (at a glance):</h2>
    <div class="panel-row__content">
      <!-- Gmail container -->
      <div class="panel u-border-mail">
        <div class="panel__header">
          <div class="panel__content-entry u-remove-top-margin">
            <a class="panel__content-entry-link" target="_blank" href="https://www.gmail.com">
              <img class="panel__logo" alt="mail-logo" src="assets/mail.png">
            </a>
            <h3 class="panel__section-heading">Mail</h3>
          </div>
          <p class="panel__section-subheading">From the last <span id="gmailNDays"></span> days:
          <div class="panel__content">
            <div class="panel__content-entry">
              <div class="panel__rounded-number u-background-mail">
                <p class="panel__text-data-point u-text-white" id="gmailUnreadEmailsDays">
              </div>
              <p class="panel__text-data-point">Unread Emails:
            </div>
            <div class="panel__content-entry">
              <img class="panel__content-icon" alt="clock-icon" src="assets/clock.png">
              <p class="panel__text-large"><span id="gmailUnreadEmailsHours"></span> from the last <span id="gmailMHours"></span> hours
            </div>
            <div class="panel__content-entry">
              <img class="panel__content-icon" alt="flag-icon" src="assets/flag.png">
              <p class="panel__text-large"><span id="gmailUnreadImportantEmails"></span> marked important
            </div>
            <div class="panel__content-entry">
              <div class="panel__round-letter">
                <p class="panel__text-data-point u-text-white" id="gmailSenderInitial">
              </div>
              <p class="panel__text-large"><span id="gmailSender"></span> sent the most unread emails
            </div>
          </div>
        </div>
      </div>
      <!-- Tasks container -->
      <div class="panel u-border-tasks">
        <div class="panel__header">
          <div class="panel__content-entry u-remove-top-margin">
            <a class="panel__content-entry-link" target="_blank" href="https://calendar.google.com/calendar/b/0/r?opentasks=1">
              <img class="panel__logo" alt="tasks-logo" src="assets/tasks.png">
            </a>
            <h3 class="panel__section-heading">Tasks</h3>
          </div>
          <p class="panel__section-subheading">Task Lists: 
            <select name="panel__task-list-select" id="tasks-select" onchange="populateTasks()" size="2" multiple></select>
          <div class="panel__content">
            <div class="panel__content-entry">
              <div class="panel__rounded-number u-background-tasks">
                <p class="panel__text-data-point u-text-white" id="tasks-to-complete">
              </div>
              <p class="panel__text-data-point">Tasks to complete
            </div>
            <div class="panel__content-entry">
              <img class="panel__content-icon" alt="clipboard-icon" src="assets/clipboard.png">
              <p class="panel__text-large" id="tasks-due-today">4 due today
            </div>
            <div class="panel__content-entry">
              <img class="panel__content-icon" alt="checkmark-icon" src="assets/checkmark.png">
              <p class="panel__text-large" id="tasks-completed-today">2 completed today
            </div>
            <div class="panel__content-entry">
              <img class="panel__content-icon" alt="exclamation-icon" src="assets/exclamation.png">
              <p class="panel__text-large" id="tasks-overdue">1 overdue
            </div>
          </div>
        </div>
        <!-- Container to display prototype data. TODO: Delete prototype containers once panel's complete (Issue #74) -->
        <div id="tasks"></div>
      </div>
      <!-- Calendar container -->
      <div class="panel u-border-calendar">
        <div class="panel__header">
          <div class="panel__content-entry u-remove-top-margin">
            <a class="panel__content-entry-link" target="_blank" href="https://calendar.google.com/calendar/b/0/r">
              <img class="panel__logo" alt="calendar-logo" src="assets/calendar.png">
            </a>
            <h3 class="panel__section-heading">Calendar</h3>
          </div>
          <p class="panel__section-subheading">Selected Calendars:
          <div class="panel__content">
            <div class="panel__content-entry">
              <p class="panel__text-icon u-text-calendar">M:
              <div>
                <p class="u-block">3h 4m free (working)
                <p class="u-block">4h 12m free (personal)
              </div>
            </div>
            <div class="panel__content-entry">
              <p class="panel__text-icon u-text-calendar">T:
              <div>
                <p class="u-block">3h 4m free (working)
                <p class="u-block">4h 12m free (personal)
              </div>
            </div>
            <div class="panel__content-entry">
              <p class="panel__text-icon u-text-calendar">W:
              <div>
                <p class="u-block">3h 4m free (working)
                <p class="u-block">4h 12m free (personal)
              </div>
            </div>
            <div class="panel__content-entry">
              <p class="panel__text-icon u-text-calendar">T:
              <div>
                <p class="u-block">3h 4m free (working)
                <p class="u-block">4h 12m free (personal)
              </div>
            </div>
            <div class="panel__content-entry">
              <p class="panel__text-icon u-text-calendar">F:
              <div>
                <p class="u-block">3h 4m free (working)
                <p class="u-block">4h 12m free (personal)
              </div>
            </div>
          </div>
        </div>
        <!-- Container to display prototype data. TODO: Delete prototype containers once panel's complete (Issue #74) -->
        <div id="calendar"></div>
      </div>
    </div>
  </article>
  <!-- Placeholder panels for features built in future -->
  <article>
    <h2 class="panel-row__header u-align-with-first-panel">Build your plan:</h2>
    <div class="panel-row__content">
      <div class="panel u-border-assign">
        <div class="panel__toggle-icon" id="assignSettingsIcon">
          <img hidden class="panel__toggle-icon--selected" alt="settings-icon" src="assets/settings-selected.png" onclick="displayAssignContent()">
          <img class="panel__toggle-icon--unselected" alt="settings-icon" src="assets/settings-unselected.png" onclick="displayAssignSettings()">
        </div>
        <!-- Assign content section-->
        <div class="panel__content-entry u-remove-top-margin assign-content">
          <!-- TODO: Create JS to update search query based on inputted words (Issue #130) -->
          <a class="panel__content-entry-link" target="_blank" href="https://mail.google.com/mail/u/0/#search/subject%3A(%22TODO+FILL+IN+SEARCH+QUERY%22)">
            <img class="panel__logo" alt="assign-logo" src="assets/assign.png">
          </a>
          <h3 class="panel__section-heading">Assign</h3>
        </div>
        <p class="panel__section-subheading assign-content">Find tasks in your emails:</p>
        <div class="panel__content-entry assign-content">
          <div class="panel__rounded-number u-background-assign">
            <p class="panel__text-data-point u-text-white" id="assignSuspectedActionItems">6
          </div>
          <p class="panel__text-data-point">Possible Items:</p>
        </div>
        <div class="panel__content-entry assign-content">
          <a class="button-circle"><span class="play-icon">▶</span></a>
          <!-- Will default to click to start. When started, will list item number (e.g. "Item 1/6") -->
          <p class="panel__text-data-point" id="assignItemCount">Click to start
        </div>
        <!-- Container to hold subject line of actionable email -->
        <div class="panel__text-body assign-content">
          <p class="panel__text-large">
            <span class="u-bold-underline">Subject:</span>
            <span id="assignSubject"> Lorem ipsum emmet Lorem ipsum emmet Lorem ipsum emmet</span>
        </div>
        <!-- Settings section -->
        <h3 hidden class="panel__section-heading u-remove-top-margin assign-settings">Settings:</h3>
        <div hidden class="panel__text-body assign-settings">
          <div class="panel__content-entry u-remove-top-margin">
            <p class="panel__text-large">Search <span class="u-bold-underline" id="assignNDays">7</span> days of email
            <div class="panel__two-buttons-incremental u-right-align">
              <a class="panel__button-incremental" onclick="incrementElement('assignNDays')"><span>+</span></a>
              <a class="panel__button-incremental" onclick="decrementElement('assignNDays')"><span>-</span></a>
            </div>
          </div>
          <div class="panel__content-entry">
            <p class="panel__text-large">Use unread emails only
            <div class="panel__toggle-icon u-right-align" id="assignUnreadOnlyIcon">
              <img class="panel__toggle-icon--unselected" alt="settings-icon" src="assets/checkbox-unselected.png">
              <img hidden class="panel__toggle-icon--selected" alt="settings-icon" src="assets/checkbox-selected.png">
            </div>
          </div>
          <div class="panel__list">
            <p class="panel__text-large u-bold-underline">Search Phrases:
            <ul class="panel__list-unordered" id="assignList">
              <li class="panel__content-entry--list">
                <p class="panel__list-text">Action Required</p>
                <a class="panel__button-incremental--small u-right-align"><span>-</span></a>
              </li>
              <li class="panel__content-entry--list">
                <p class="panel__list-text">Action Requested</p>
                <a class="panel__button-incremental--small u-right-align"><span>-</span></a>
              </li>
            </ul>
            <div class="panel__content-entry">
              <input type="text" class="panel__text-entry" placeholder="New Phrase..." id="assignListTextInput">
              <a class="panel__button-incremental--small" onclick="createTextListElement('assignListTextInput', 'assignList')"><span>+</span></a>
            </div>
          </div>
        </div>
        <!-- Change to CONFIRM and CANCEL for settings, YES and NO otherwise -->
        <div class="panel__buttons">
          <a class="button-1-of-2 panel__green-button" id="assign-accept-button">Add Task</a>
          <a class="button-1-of-2 panel__red-button" id="assign-reject-button">Skip Task</a>
        </div>
        <div id="assign"></div>
      </div>
      <div class="panel">Plan</div>
      <div class="panel">Go
        <div id="go"></div>
      </div>
    </div>
  </article>
  <div class="footer u-align-with-first-panel">
    <p>Icons made by <a target="_blank" href="https://www.flaticon.com/authors/google" title="Google">Google</a> from <a target="_blank" href="https://www.flaticon.com/" title="Flaticon"> www.flaticon.com</a>
    <p><a target="_blank" href="https://icons8.com/icons/set/drafting-compass">Drafting Compass icon</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a>
  </div>
</div>
